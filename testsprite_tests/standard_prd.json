{
  "meta": {
    "project": "Finance-ARG Umrah & Haji Management System",
    "date": "2025-12-22",
    "prepared_by": "Finance-ARG Development Team"
  },
  "product_overview": "Finance-ARG is a comprehensive web-based management system designed for Umrah and Haji travel agencies to manage pilgrims (jamaah), travel packages, financial transactions, vendor debts, and reporting, streamlining pilgrimage management and financial oversight.",
  "core_goals": [
    "Provide secure role-based user authentication and authorization",
    "Enable efficient jamaah (pilgrim) registration and management with package and seat assignment",
    "Manage travel packages with pricing, capacity, and scheduling",
    "Record and track income and expenses with categorization and payment methods",
    "Maintain vendor information and track debts with payment history",
    "Deliver comprehensive financial reporting and auditing tools",
    "Support user profile and company settings management",
    "Facilitate an intuitive dashboard with real-time financial and operational metrics",
    "Ensure data validation, security, and compliance with Indonesian financial regulations"
  ],
  "key_features": [
    "Authentication system with role-based access control",
    "Dashboard overview with financial metrics and visualizations",
    "Jamaah management including personal info, package assignment, payment tracking, and document uploads",
    "Package management with CRUD operations, seat and room assignments",
    "Financial management: income and expense transactions with bank and receipt details",
    "Vendor and vendor debt management with payment recording and status tracking",
    "Reports generation including profit & loss, budget vs actual, invoice, and audit logs",
    "User management and company settings for administrative control",
    "Notifications system for payment reminders and system alerts",
    "Global search and UI component library for consistent user experience"
  ],
  "user_flow_summary": [
    "Jamaah registration flow from form input to package assignment and payment status initialization",
    "Payment recording by finance roles updating jamaah payment statuses and dashboard data",
    "Package creation with detailed itinerary and budget input by admin or owner",
    "Vendor debt creation and payment recording by finance roles with automatic status updates",
    "Report generation flow involving filter selection, report viewing, and export options"
  ],
  "validation_criteria": [
    "Frontend validation with React Hook Form and Zod schemas ensuring real-time field checks",
    "Backend validation enforcing data integrity and prevention of duplicates",
    "Business logic validations including unique package codes, seat availability, and payment status consistency",
    "Role-based access enforced on API endpoints and UI components",
    "Secure authentication and session management with encrypted tokens",
    "Compliance with security standards for data protection and local regulations (e.g., Indonesian Rupiah currency, NPWP tax IDs)"
  ],
  "code_summary": {
    "tech_stack": [
      "JavaScript",
      "React 19",
      "Vite 7",
      "React Router v7",
      "TailwindCSS",
      "Zustand (State Management)",
      "React Query (TanStack Query)",
      "React Hook Form",
      "Zod (Validation)",
      "Better Auth (Authentication)",
      "Recharts (Charts)",
      "Node.js",
      "Express 5",
      "TypeScript",
      "PostgreSQL",
      "Drizzle ORM"
    ],
    "features": [
      {
        "name": "Authentication System",
        "description": "User authentication with login and signup pages using Better Auth library",
        "files": [
          "src/pages/auth/Login.jsx",
          "src/pages/auth/SignUp.jsx",
          "src/contexts/AuthContext.jsx",
          "src/lib/auth-client.js",
          "src/hooks/useAuth.js",
          "src/components/ProtectedRoute.jsx"
        ]
      },
      {
        "name": "Dashboard Overview",
        "description": "Main dashboard showing financial metrics, cash flow charts, and key statistics",
        "files": [
          "src/pages/dashboard/Dashboard.jsx",
          "src/hooks/useDashboard.js",
          "src/components/molecules/MetricCard.jsx"
        ]
      },
      {
        "name": "Jamaah Management",
        "description": "Pilgrim (jamaah) registration, listing, and management with package assignment",
        "files": [
          "src/pages/jamaah/JamaahList.jsx",
          "src/pages/jamaah/JamaahForm.jsx",
          "src/hooks/useJamaah.js",
          "src/services/api/jamaah.js"
        ]
      },
      {
        "name": "Package Management",
        "description": "Tour package creation and management with pricing and details",
        "files": [
          "src/pages/paket/PackageList.jsx",
          "src/pages/paket/PackageForm.jsx",
          "src/pages/paket/PackageDetail.jsx",
          "src/pages/paket/ManifestPage.jsx",
          "src/pages/paket/RoomListIndex.jsx",
          "src/pages/paket/RoomListPage.jsx",
          "src/pages/paket/SeatListPage.jsx",
          "src/hooks/usePackages.js",
          "src/services/api/packages.js"
        ]
      },
      {
        "name": "Income Management",
        "description": "Recording and tracking income from jamaah payments (DP, installments, pelunasan)",
        "files": [
          "src/pages/keuangan/PemasukanPage.jsx",
          "src/components/modals/AddIncomeModal.jsx",
          "src/hooks/useTransactions.js",
          "src/services/api/transactions.js"
        ]
      },
      {
        "name": "Expense Management",
        "description": "Recording and tracking business expenses with categorization",
        "files": [
          "src/pages/keuangan/PengeluaranPage.jsx",
          "src/components/modals/AddExpenseModal.jsx",
          "src/hooks/useTransactions.js",
          "src/services/api/transactions.js"
        ]
      },
      {
        "name": "Vendor Debt Management",
        "description": "Tracking debts to vendors with payment history",
        "files": [
          "src/pages/keuangan/HutangVendor.jsx",
          "src/components/modals/AddVendorDebtModal.jsx",
          "src/components/modals/PayDebtModal.jsx",
          "src/components/modals/VendorDebtDetailModal.jsx",
          "src/hooks/useVendors.js",
          "src/services/api/vendors.js"
        ]
      },
      {
        "name": "Cash Flow Tracking",
        "description": "Comprehensive cash flow view with filtering and visualization",
        "files": [
          "src/pages/keuangan/CashflowPage.jsx",
          "src/hooks/useTransactions.js"
        ]
      },
      {
        "name": "Vendor Management",
        "description": "Vendor CRUD operations and status management",
        "files": [
          "src/pages/vendor/VendorList.jsx",
          "src/pages/vendor/VendorForm.jsx",
          "src/hooks/useVendors.js",
          "src/services/api/vendors.js"
        ]
      },
      {
        "name": "Financial Reports",
        "description": "Various financial reports including profit/loss, budget vs actual, invoice generation, and audit logs",
        "files": [
          "src/pages/laporan/LabaRugiPage.jsx",
          "src/pages/laporan/BudgetActualPage.jsx",
          "src/pages/laporan/InvoiceGenerator.jsx",
          "src/pages/laporan/AuditLogPage.jsx",
          "src/hooks/useReports.js",
          "src/services/api/reports.js"
        ]
      },
      {
        "name": "User Profile Management",
        "description": "User profile viewing and editing",
        "files": [
          "src/pages/profile/ProfilePage.jsx",
          "src/pages/profile/ProfileForm.jsx",
          "src/hooks/useUsers.js",
          "src/services/api/users.js"
        ]
      },
      {
        "name": "Company Settings",
        "description": "Company information and configuration management",
        "files": [
          "src/pages/settings/CompanySettings.jsx",
          "src/pages/settings/GeneralSettings.jsx",
          "src/pages/settings/ConfigurationPage.jsx",
          "src/hooks/useCompanySettings.js",
          "src/services/api/settings.js"
        ]
      },
      {
        "name": "Notifications",
        "description": "System notifications and alerts for users",
        "files": [
          "src/pages/notifications/NotificationsPage.jsx"
        ]
      },
      {
        "name": "UI Components",
        "description": "Reusable atomic design system components including buttons, inputs, cards, modals, and navigation",
        "files": [
          "src/components/atoms/Button.jsx",
          "src/components/atoms/Input.jsx",
          "src/components/atoms/Badge.jsx",
          "src/components/molecules/Card.jsx",
          "src/components/molecules/Modal.jsx",
          "src/components/organisms/Sidebar.jsx",
          "src/components/organisms/TopNavbar.jsx",
          "src/components/organisms/SearchModal.jsx"
        ]
      },
      {
        "name": "Global Search",
        "description": "Application-wide search functionality across different entities",
        "files": [
          "src/components/organisms/SearchModal.jsx",
          "src/hooks/useSearch.js"
        ]
      },
      {
        "name": "Permission System",
        "description": "Role-based access control and permissions configuration",
        "files": [
          "src/config/permissions.js"
        ]
      }
    ]
  }
}
